<!-- Include Font Awesome CSS in the head section -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<div class="pagesbody">
    <div class="titlecontainer">
        <h1>Fish Growth</h1>
    </div>
   
      
        <main class="content">
            <div class="row ">
              <div class="col-8">
                <div class="card1 card-body border-0 shadow ">
                    <h5>Daily data recording for</h5>
                    <mat-form-field  class="tank_selection">
                      <mat-label>Select tanks</mat-label>
                      <mat-select [formControl]="selectedItems" multiple>
                        <!-- Iterate over groups -->
                        <mat-optgroup *ngFor="let group of optionGroups" [label]="group.name">
                          <!-- "Select all" checkbox for each group -->
                          <mat-checkbox (change)="toggleGroup(group.name, $event)">
                            Select all
                          </mat-checkbox>
                          <!-- Iterate over options within each group -->
                          <mat-option *ngFor="let option of group.options" [value]="option">
                            {{ option }}
                          </mat-option>
                        </mat-optgroup>
                      </mat-select>
                    </mat-form-field>
                    
                  <mat-stepper
                    class="example-stepper"
                    [orientation]="(stepperOrientation | async)!">
                    <mat-step [stepControl]="firstFormGroup" label="Biometrics">
                      <form [formGroup]="firstFormGroup" >
                        <div class=" mat-form-field--inline">
                          <mat-form-field appearance="outline"   class="field">
                            <mat-label style="color: black; ">Feed composition</mat-label>
                            <input matInput placeholder="Feed composition" type="number" >
                            <mat-icon matSuffix>matSuffix</mat-icon>
                          </mat-form-field>

                          <mat-form-field appearance="outline" class="field">
                            <mat-label style="color: black; "> Apparent feed distribution rate F (%) </mat-label>
                            <input matInput placeholder="Apparent feed distribution rate F (%) " type="number" >
                            <mat-icon matSuffix>truck</mat-icon>
                          </mat-form-field>

                          
                          <mat-form-field appearance="outline" class="field">
                            <mat-label style="color: black; "> Total dry feed intake offered TDFI (g)</mat-label>
                            <input matInput placeholder="Total dry feed intake offered TDFI (g)" type="number" >
                            <mat-icon matSuffix> local_shipping</mat-icon>
                          </mat-form-field>
                          
                        </div>
                
                        <div class=" mat-form-field--inline">
                          <mat-form-field appearance="outline" class="field">
                            <mat-label style="color: black; ">Total energy intake TEI (Kcal)</mat-label>
                            <input matInput placeholder="Total energy intake TEI (Kcal)" type="number" >
                            <mat-icon matSuffix>percent</mat-icon>
                          </mat-form-field>
                  
                          
                          
                          <mat-form-field appearance="outline" class="field">
                            <mat-label style="color: black; "> Protein energy intake PEI(Kcal)</mat-label>
                            <input matInput placeholder="Protein energy intake PEI(Kcal)" type="number" >
                            <mat-icon matSuffix>pin</mat-icon>
                          </mat-form-field>
                          
                        </div>
                
                        <button mat-raised-button color="success" class="send">
                          <mat-icon>send</mat-icon>
                          Send Data </button>
                        <!-- Add more form controls as needed -->
                      </form>
                    </mat-step>
                    <mat-step [stepControl]="secondFormGroup" label="Feed Quality ">
                      <form [formGroup]="secondFormGroup">
                        
                          <div class=" mat-form-field--inline">
                            <mat-form-field appearance="outline"   class="field">
                              <mat-label style="color: black; ">Feed composition</mat-label>
                              <input matInput placeholder="Feed composition" type="number" >
                            </mat-form-field>

                            <mat-form-field appearance="outline" class="field">
                              <mat-label style="color: black; "> Apparent feed distribution rate F (%) </mat-label>
                              <input matInput placeholder="Apparent feed distribution rate F (%) " type="number" >
                              <mat-icon matSuffix>truck</mat-icon>
                            </mat-form-field>

                            
                            <mat-form-field appearance="outline" class="field">
                              <mat-label style="color: black; "> Total dry feed intake offered TDFI (g)</mat-label>
                              <input matInput placeholder="Total dry feed intake offered TDFI (g)" type="number" >
                              <mat-icon matSuffix> local_shipping</mat-icon>
                            </mat-form-field>
                            
                          </div>
                  
                          <div class=" mat-form-field--inline">
                            <mat-form-field appearance="outline" class="field">
                              <mat-label style="color: black; ">Total energy intake TEI (Kcal)</mat-label>
                              <input matInput placeholder="Total energy intake TEI (Kcal)" type="number" >
                              <mat-icon matSuffix>percent</mat-icon>
                            </mat-form-field>
                    
                            <mat-form-field appearance="outline" class="field">
                              <mat-label style="color: black; "> Protein energy intake PEI(Kcal)</mat-label>
                              <input matInput placeholder="Protein energy intake PEI(Kcal)" type="number" >
                              <mat-icon matSuffix>pin</mat-icon>
                            </mat-form-field>

                            <mat-form-field appearance="outline" class="field">
                              <mat-label style="color: black; "> Leftover </mat-label>
                              <input matInput placeholder="Leftover " type="number" >
                              <mat-icon matSuffix>pin</mat-icon>
                            </mat-form-field>
                            
                          </div>
                  
                        <button mat-raised-button color="success" class="send">
                          <mat-icon>send</mat-icon>
                          Send Data </button>
                      </form>
                    </mat-step>
                    
                  </mat-stepper>
                </div>
              </div>
              <div class="col-4">
                <div class="card2 card-body border-0 shadow fish_feeding">  
                            <h5> Returned feed <img src="../../assets/images/wired-lineal-217-arrow-6.gif" alt=""></h5> 
                            <!-- food-return.component.html -->
                            <div class="food-return-container">
                                <!-- Iterate over the rooms and display input fields to specify the quantity of food returned -->
                                <div  class="food-return-room">
                                
                                <!-- Form to specify tank and room -->
                                <form >
                                  <mat-form-field  class="tank_selection">
                                    <mat-label>Select tanks</mat-label>
                                    <mat-select [formControl]="selectedItems" multiple>
                                      <!-- Iterate over groups -->
                                      <mat-optgroup *ngFor="let group of optionGroups" [label]="group.name">
                                        <!-- "Select all" checkbox for each group -->
                                        <mat-checkbox (change)="toggleGroup(group.name, $event)">
                                          Select all
                                        </mat-checkbox>
                                        <!-- Iterate over options within each group -->
                                        <mat-option *ngFor="let option of group.options" [value]="option">
                                          {{ option }}
                                        </mat-option>
                                      </mat-optgroup>
                                    </mat-select>
                                  </mat-form-field>
                                    <mat-form-field >
                                        <input matInput type="number"  name="foodReturned" placeholder="Quantity">
                                    </mat-form-field>
                                    
                                </form>
                                <div class="buttons">
                                    <button mat-raised-button color="confirmer">Confirm</button>
                                    <button mat-raised-button color="historique">View returns history</button>
                                </div>
                                </div>
                            </div>
      
                </div>  
              </div>                      
            </div>
            
            <div class="row">
              <div class="col-12 card_performances card-body border-0 shadow">
                <div class="row row-1">
                  <h5 class="Performances">Performances for :</h5>
                  <mat-form-field class="select_tank" >
                    <mat-label>Select a tank</mat-label>
                    <mat-select [(value)]="selectedTank">
                      <!-- Define the first group for Room 1 -->
                      <mat-optgroup label="Room 1">
                        <mat-option *ngFor="let tank of room1Tanks" [value]="tank">
                          {{ tank }}
                        </mat-option>
                      </mat-optgroup>
                      
                      <!-- Define the second group for Room 2 -->
                      <mat-optgroup label="Room 2">
                        <mat-option *ngFor="let tank of room2Tanks" [value]="tank">
                          {{ tank }}
                        </mat-option>
                      </mat-optgroup>
                  
                      <!-- Add more groups as needed -->
                    </mat-select>
                  </mat-form-field>
                  
              </div>
              <div class="row row_2">
                <div class="col-6">
                  <div class="card1 card-body border-0 shadow ">
                    <h6>Growth performances</h6>
                    <canvas id="growthPerformanceChart"></canvas>
                    <p>Total Growth rate GR (%) <span>55</span></p>
                  </div>
                </div>
                <div class="col-6">
                  <div class="card1 card-body border-0 shadow ">
                    <h6>Weight Gain performances</h6>
                    <canvas id="wgChart"></canvas>
                    <p>Coefficient of variation :<span>3.5</span></p>
                  </div>  
                </div>                      
              </div>
              </div>
            </div>
            <div class="row">
              <div class="col-12 card_performances card-body border-0 shadow">
                <div class="row row-1">
                  <h5 class="Performances">Performances for :</h5>
                  <mat-form-field class="select_tank" >
                    <mat-label>Select a tank</mat-label>
                    <mat-select [(value)]="selectedTank">
                      <!-- Define the first group for Room 1 -->
                      <mat-optgroup label="Room 1">
                        <mat-option *ngFor="let tank of room1Tanks" [value]="tank">
                          {{ tank }}
                        </mat-option>
                      </mat-optgroup>
                      
                      <!-- Define the second group for Room 2 -->
                      <mat-optgroup label="Room 2">
                        <mat-option *ngFor="let tank of room2Tanks" [value]="tank">
                          {{ tank }}
                        </mat-option>
                      </mat-optgroup>
                  
                      <!-- Add more groups as needed -->
                    </mat-select>
                  </mat-form-field>
                  
                </div>
              <div class="row row_2">
                <div class="col-4">
                  <div class="card1-gauge card-body border-0 shadow ">
                    <h6>Feed conversion rate FCR (%)</h6>
                    <div class="card-gauge">
                      <rg-gauge-chart
                      [canvasWidth]="canvasWidth"
                      [needleValue]="FCR"
                      [centralLabel]="centralLabel"
                      [options]="options_gauge"
                      [bottomLabel]="FCR_Label"></rg-gauge-chart>
                    </div> 
                  </div>
                </div>
                <div class="col-4">
                  <div class="card1-gauge card-body border-0 shadow ">
                    <h6>Protein efficiency ratio PER (%)</h6>
                    <div class="card-gauge">
                      <rg-gauge-chart
                      [canvasWidth]="canvasWidth"
                      [needleValue]="PER"
                      [centralLabel]="centralLabel"
                      [options]="options_gauge"
                      [bottomLabel]="PER_Label"></rg-gauge-chart>
                    </div> 
                  </div>  
                </div>
                
                <div class="col-4">
                  <div class="card1-gauge card-body border-0 shadow ">
                    <h6>Hepatosomatic index HSI (%)</h6>
                    <div class="card-gauge">
                      <rg-gauge-chart
                      [canvasWidth]="canvasWidth"
                      [needleValue]="HSI"
                      [centralLabel]="centralLabel"
                      [options]="options_gauge"
                      [bottomLabel]="HSI_Label"></rg-gauge-chart>
                    </div> 
                  </div>  
                </div> 
              </div>
              <div class="row row_2">
                <div class="col-6">
                  <div class="card1-indice card-body border-0 shadow ">
                    <h6>Energy efficiency ratio EER (g/Kcal)</h6>
                    <span class="indice">50</span>
                  </div>  
                  
                </div>
                <div class="col-6">
                  <div class="card1-indice card-body border-0 shadow ">
                    <h6>Fultonâ€™s condition factor K factor</h6>
                    <span class="indice">33</span>
                  </div>  
                  
                </div>
              </div>
              </div>
            </div>
            
            <div class="row">
              <div class="col-12 card_performances card-body border-0 shadow">
                
              <div class="row row_2">
                <div class="col-8">
                  <div class="card1-plot ">
                    <h5>Daily Tempreture Curve</h5>
                    <div class="plot-container card-body border-0 shadow">
                      <div class="plot-wrapper" [ngClass]="{ 'enlarged': enlarged }">
                        <img *ngIf="plotBlobUrl" [src]="plotBlobUrl" alt="Plot" id="plotImage">
                        <p *ngIf="!plotBlobUrl">Plot is not loaded yet</p>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="col-4">
                  <div class="card1-plot">
                    <h5>Curve parameter</h5>
                    <div class="plot-parameter-container card-body border-0 shadow">
                      <form class="curve_parameter">
                        <div class=" mat-form-field--inline">
                          <mat-form-field appearance="outline"   class="field">
                            <mat-label style="color: black; ">Parameter 1</mat-label>
                            <input matInput placeholder="Parameter 1" type="number" >
                            <mat-icon matSuffix>matSuffix</mat-icon>
                          </mat-form-field>

                          <mat-form-field appearance="outline" class="field">
                            <mat-label style="color: black; "> Parameter 2 </mat-label>
                            <input matInput placeholder="Parameter 2 " type="number" >
                            <mat-icon matSuffix>truck</mat-icon>
                          </mat-form-field>
                        </div>
                
                        <div class=" mat-form-field--inline">
                          <mat-form-field appearance="outline" class="field">
                            <mat-label style="color: black; ">Parameter 3</mat-label>
                            <input matInput placeholder="Parameter 3" type="number" >
                            <mat-icon matSuffix>percent</mat-icon>
                          </mat-form-field>
            
                        </div>
                        <div class="actions_buttons"> 
                          <button mat-raised-button color="generate" class="send">
                            <mat-icon>autorenew</mat-icon>
                            Generate Curve </button>

                          <button mat-raised-button color="print" class="send" (click)="printPlot()">
                            <mat-icon>print</mat-icon>
                            Print Curve </button>
                        </div>
                      </form>
                      
                      <div class="thermometer-background"></div>
                    </div>
                  </div>
                </div>
                       
              </div>
                
                
              </div>
              
            </div>
            
            
            
            
        </main>
   </div>

